/*
 * @license
 * angular-uploadr v0.1.0
 * (c) 2014 Doğan Çelik http://dogancelik.com
 * License: MIT
 */
angular.module("ngUploadr",[]).service("uploadr",["$http","$q","$rootScope",function(t,n,e){function i(){var t={url:r,data:u};return angular.extend({},o,t,a)}var r,u=new FormData,o={method:"POST",headers:{"Content-Type":void 0},transformRequest:angular.identity},a={},s=!0;this.clear=function(){return u=new FormData,s=!0,this},this.url=function(t){return r=t,s=!1,this},this.field=function(t,n){return u.append(t,n),s=!1,this},this.files=function(t,n){n=n||"files",t instanceof File&&(t=[t]);for(index in t)file=t[index],u.append(n,file);return s=!1,this},this.config=function(t){return a=t,this},this.upload=function(){if(1==s)throw"Data is empty; use field() or files().";if(null==r)throw"URL is empty; use url().";return e.$$phase?t(i()):e.$apply(function(){return t(i())})}}]);